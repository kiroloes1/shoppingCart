<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <!-- Meta SEO -->
  <meta name="description" content="E-commerce website for medicines and products" />
  <meta name="keywords" content="pharmacy, medicines, ecommerce, health" />
  <meta name="author" content="Kiroloes Reda" />
  <link rel="icon" href="./img/f1.ico">
  <title>products page</title>

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600&family=Roboto:wght@400;700&display=swap" rel="stylesheet">

<!-- Font Awesome -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
<script src="https://cdn.tailwindcss.com"></script>

  <!-- Custom CSS -->
  <link rel="stylesheet" href="./style.css" />

  <style>

  </style>
</head>

<body class="bg-slate-50">

<header class="py-8 bg-[var(--light)] border-b-2 border-[var(--dark)] rounded-b-sm sticky top-0 z-50 shadow-md ">
  <div class="flex justify-around items-center">

    <!-- Logo -->
    <a href="./index.html" class="text-[var(--dark)] font-bold text-xl">
      fashonShoping
    </a>

    <!-- Navigation for meduim device or more -->
    <nav class="flex items-center">
      <ul class="hidden md:flex [&>li]:text-[var(--black)] [&>li]:font-semibold [&>li]:px-2 lg:[&>li]:px-3 xl:[&>li]:px-4">
        <li ><a  href="./index.html">Home</a></li>
        <li><a  href="#about">About</a></li>
        <li><a href="./trackOrder.html">Track Order</a></li>
        <li><a class="text-[var(--orange)]" href="#">Wishlist</a></li>
        <li><a href="./blog.html">Blog</a></li>
        <li><a href="./contact.html">Contact</a></li>
                <li><a href="./products.html"><i class="cursor-pointer fa-solid fa-magnifying-glass"></i></a></li>
        <li class=""><i class=" fa-solid fa-user cursor-pointer text-[var(--dark)]"></i></li>           
        <li class="relative list-none">
                       <a href="./cart.html"><i class="fa-solid fa-cart-shopping cursor-pointer text-[var(--dark)] text-xl"></i></a>
            <span id="cart-count" class="absolute -top-2 -right-1 xl:right-2 bg-red-500 text-white text-xs font-bold w-5 h-5 flex items-center justify-center rounded-full shadow">0</span></li>

      </ul>
    </nav>

    <!-- manual menu -->
 <div id="menu-btn" class="menuBar md:hidden">
    <div class="bar1"></div>
    <div class="bar2"></div>
    <div class="bar3"></div>
 </div>

  </div>
</header>

<!-- userSectionContainer -->
<div id="userSectionContainer">


</div>


<!-- nav bar for small device -->
<div id="mobile-menu" class="hidden md:hidden p-5 shadow-md z-30 fixed w-full top-20 bg-white">
        <ul class="  flex flex-col gap-3 [&>li]:text-[var(--black)] [&>li]:font-semibold [&>li]:px-2 lg:[&>li]:px-3 xl:[&>li]:px-4">
        <li ><a href="./index.html">Home</a></li>
        <li><a class="text-[var(--orange)]" href="#">About</a></li>
        <li><a href="./trackOrder.html">Track Order</a></li>
        <li><a href="#">Wishlist</a></li>
        <li><a href="./blog.html">Blog</a></li>
        <li><a href="./contact.html">Contact</a></li>
        <div class="flex gap-3 px-2">
                <li><a href="./products.html"><i class="cursor-pointer fa-solid fa-magnifying-glass"></i></a></li>
        <li class=""><i class=" fa-solid fa-user cursor-pointer text-[var(--dark)]"></i></li>           
        <li class="relative list-none">
                       <a href="./cart.html"><i class="fa-solid fa-cart-shopping cursor-pointer text-[var(--dark)] text-xl"></i></a>
            <span id="cart-count" class="absolute -top-2 -right-1 bg-red-500 text-white text-xs font-bold w-5 h-5 flex items-center justify-center rounded-full shadow">0</span></li>
       </div>
      </ul>
</div>

<div class="my-12"></div>

<!-- main  -->
 <main  id="about" class="mb-44">

 
<h1 class="w-full text-4xl font-extrabold mb-8 text-center text-gray-800">My Favorite Products</h1>

<div class="min-w-full p-5 flex  items-center">
  <table class="min-w-full bg-white rounded-xl  flex-col flex-grow-1 shadow-lg divide-y divide-gray-200">
    <thead class="bg-gray-100">
      <tr>
        <th class="py-3 px-6 text-left text-gray-600 font-semibold tracking-wider">Product</th>
        <th class="py-3 px-6 text-left text-gray-600 font-semibold tracking-wider">Price</th>
        <th class="py-3 px-6 text-center text-gray-600 font-semibold tracking-wider">Actions</th>
      </tr>
    </thead>
    <tbody id="tbody" class="text-gray-700">


    </tbody>
  </table>
 
</div>

 </main>

<div id="body"></div>


<!-- Modern Footer -->
<footer class="bg-gray-900 text-gray-400">
  <div class="border-t border-gray-700 mt-6 py-12 text-center">
<p class="text-2xl font-semibold text-white flex items-center justify-center gap-3">
  <i class="fas fa-laptop-code text-orange-400"></i>
  Eng. Kiroloes Reda
  <i class="fas fa-microchip text-orange-400"></i>
  <i class="fas fa-database text-orange-400"></i>
</p>
    <p class="text-lg mt-2">
      <span class="text-orange-400">&copy; 2025</span> FashionShopping. All rights reserved.
    </p>
  </div>
</footer>

  <div id="userSectionContainer"></div>

  <script src="./main.js"></script>
<script>
      let favArray=[]
    if(localStorage.getItem("token") && currentUser){
     favArray=currentUser.wishList ||[]
  }
  else{
   favArray=JSON.parse(localStorage.getItem("favArray"))||[]
  }
    
  const container= document.getElementById("tbody");

function readfavProducts(){
 container.innerHTML=""
      favArray.forEach(e => {
      container.innerHTML+=`  
      <tr class="border-b hover:bg-gray-50 transition duration-300">
        <td class="py-4 px-2 flex items-center gap-3">
          <img src=${e.image || e.images[0]} alt="${e.title}" class="w-12 h-12 rounded-lg object-cover">
          <span class="font-medium text-gray-800">${e.title}</span>
        </td>
        <td class="py-4  px-3 font-semibold text-gray-700">$${e.price}</td>
        <td class="py-4  px-3 flex justify-center items-center gap-4 mb-3">
          <!-- Cart Icon -->
          <i  onclick="addToCart(${e.id})"  class="fas fa-cart-plus text-blue-600 hover:text-blue-700 cursor-pointer text-2xl transition" title="Add to Cart"></i>
          <!-- Heart Icon -->
          <i  onclick="removeFromfav(${e.id})" class="fas fa-heart text-red-500 hover:text-red-600 cursor-pointer text-2xl transition" title="Remove from Favorites"></i>
        </td>
      </tr>`
  });
}


  function removeFromfav(id){
              favArray.forEach((e,i,arr)=>{
           if(arr[i].id===id){
             favArray.splice(i,1);
             console.log(favArray)
           }
        })

          if(localStorage.getItem("token") && currentUser){
            localStorage.setItem("userArray",JSON.stringify(users));
         }
         else{
            localStorage.setItem("favArray",JSON.stringify(favArray));
         }
       
        readfavProducts();
        
  }
readfavProducts();
</script>


  <!-- JavaScript for Horizontal Scroll -->

</body>
</html>
